<div class="header-row">
    <div class="col-sm-2"><a href="" ng-click="orderBy.predicate = 'title'; orderBy.reverse=!orderBy.reverse">Title</a>
    </div>
    <div class="col-sm-5"><a href=""
                             ng-click="orderBy.predicate = 'chapter'; orderBy.reverse=!orderBy.reverse">Chapter</a>
    </div>
    <div class="col-sm-1"><a href="" ng-click="orderBy.predicate = 'updatedAt'; orderBy.reverse=!orderBy.reverse">Last
        Modified</a></div>
    <div class="col-sm-1">Url</div>
    <div class="col-sm-3"><span class="badge pull-right">{{filtered.length}}</span></div>
</div>
<div class="item-row" ng-if="!manga.editable" ng-repeat-start="manga in filtered = (mangas | multi:settings.filter)"
     display-state="manga.stats">
    <div class="col-sm-12">
        <div class="row">
            <div class="col-sm-2"><a href="" ng-click="itemService.showInfo(manga)">{{manga.title}}</a></div>
            <div class="col-sm-5">
                <up-down-button decrease="itemService.decreaseCh(manga)" increase="itemService.increaseCh(manga)"
                                value="manga.chapter"
                                disabled="manga.stats.finished"></up-down-button>
            </div>
            <div class="col-sm-1">{{manga.updatedAt | timeAgo}}</div>
            <div class="col-sm-1"><a href="{{getNextChapterUrl(manga)}}" ng-if="!manga.stats.finished">Next Chapter</a>
            </div>
            <div class="col-sm-3">
                <actions-button remove="remove(manga)" model="manga"></actions-button>
            </div>
        </div>
    </div>
    <info info="manga.info" ng-if="manga.open"></info>
</div>
<div ng-include="'manga/edit.html'" ng-if="manga.editable" ng-repeat-end=""></div>
<div class="item-row" ng-if="newmanga.isnew">
    <div class="col-sm-2"><search-button search="search(newmanga)" item="newmanga"></search-button></div>
    <div class="col-sm-5"><input class="form-control input-sm" type="number" min="0" ng-model="newmanga.chapter"/>
    </div>
    <div class="col-sm-2"><input class="form-control input-sm" type="url" ng-model="newmanga.url"
                                 placeholder="url $$chapter$$ will be replaced with next chapter"/></div>
    <div class="col-sm-3">
        <save-cancel-button save="create(newmanga)" cancel="cancel(newmanga)"></save-cancel-button>
    </div>
</div>
<div class="item-row" ng-if="!newmanga.isnew">
    <div class="col-sm-12">
        <add-button add="add()"></add-button>
    </div>
</div>